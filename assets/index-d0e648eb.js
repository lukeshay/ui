import{a as w,r as t,d as I,b as S,g as y,_ as C,f as E,s as D,t as M,u as q}from"./index-6980ecaf.js";const _="Checkbox",[B,X]=w(_),[O,A]=B(_),K=t.forwardRef((e,b)=>{const{__scopeCheckbox:o,name:s,checked:u,defaultChecked:a,required:$,disabled:d,value:i="on",onCheckedChange:p,...m}=e,[n,h]=t.useState(null),g=I(b,c=>h(c)),k=t.useRef(!1),v=n?!!n.closest("form"):!0,[f=!1,x]=S({prop:u,defaultProp:a,onChange:p}),R=t.useRef(f);return t.useEffect(()=>{const c=n==null?void 0:n.form;if(c){const l=()=>x(R.current);return c.addEventListener("reset",l),()=>c.removeEventListener("reset",l)}},[n,x]),t.createElement(O,{scope:o,state:f,disabled:d},t.createElement(y.button,C({type:"button",role:"checkbox","aria-checked":r(f)?"mixed":f,"aria-required":$,"data-state":P(f),"data-disabled":d?"":void 0,disabled:d,value:i},m,{ref:g,onKeyDown:E(e.onKeyDown,c=>{c.key==="Enter"&&c.preventDefault()}),onClick:E(e.onClick,c=>{x(l=>r(l)?!0:!l),v&&(k.current=c.isPropagationStopped(),k.current||c.stopPropagation())})})),v&&t.createElement(H,{control:n,bubbles:!k.current,name:s,value:i,checked:f,required:$,disabled:d,style:{transform:"translateX(-100%)"}}))}),L="CheckboxIndicator",N=t.forwardRef((e,b)=>{const{__scopeCheckbox:o,forceMount:s,...u}=e,a=A(L,o);return t.createElement(D,{present:s||r(a.state)||a.state===!0},t.createElement(y.span,C({"data-state":P(a.state),"data-disabled":a.disabled?"":void 0},u,{ref:b,style:{pointerEvents:"none",...e.style}})))}),H=e=>{const{control:b,checked:o,bubbles:s=!0,...u}=e,a=t.useRef(null),$=M(o),d=q(b);return t.useEffect(()=>{const i=a.current,p=window.HTMLInputElement.prototype,n=Object.getOwnPropertyDescriptor(p,"checked").set;if($!==o&&n){const h=new Event("click",{bubbles:s});i.indeterminate=r(o),n.call(i,r(o)?!1:o),i.dispatchEvent(h)}},[$,o,s]),t.createElement("input",C({type:"checkbox","aria-hidden":!0,defaultChecked:r(o)?!1:o},u,{tabIndex:-1,ref:a,style:{...e.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}}))};function r(e){return e==="indeterminate"}function P(e){return r(e)?"indeterminate":e?"checked":"unchecked"}const j=K,z=N;export{j as $,z as a};
