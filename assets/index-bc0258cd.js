import{$ as Ie,a as Se,T as de,X as le,r as t,W as Te,_ as E,s as Y,L as ye,d as k,J as Oe,f as b,O as De,P as ke,Q as Fe,Y as Ae,U as Ke,g as X,Z as Le,a0 as Ge,n as Ne,e as Ue,V as Ve,M as Be,N as Ye,a1 as Xe}from"./index-4b973fe8.js";const Z=["Enter"," "],je=["ArrowDown","PageUp","Home"],fe=["ArrowUp","PageDown","End"],We=[...je,...fe],ze={ltr:[...Z,"ArrowRight"],rtl:[...Z,"ArrowLeft"]},He={ltr:["ArrowLeft"],rtl:["ArrowRight"]},j="Menu",[O,Ze,Je]=Ie(j),[R,Pt]=Se(j,[Je,de,le]),Q=de(),$e=le(),[Qe,P]=R(j),[qe,F]=R(j),et=e=>{const{__scopeMenu:c,open:n=!1,children:o,dir:s,onOpenChange:r,modal:i=!0}=e,$=Q(c),[p,m]=t.useState(null),d=t.useRef(!1),a=Ne(r),l=Ue(s);return t.useEffect(()=>{const f=()=>{d.current=!0,document.addEventListener("pointerdown",v,{capture:!0,once:!0}),document.addEventListener("pointermove",v,{capture:!0,once:!0})},v=()=>d.current=!1;return document.addEventListener("keydown",f,{capture:!0}),()=>{document.removeEventListener("keydown",f,{capture:!0}),document.removeEventListener("pointerdown",v,{capture:!0}),document.removeEventListener("pointermove",v,{capture:!0})}},[]),t.createElement(Ve,$,t.createElement(Qe,{scope:c,open:n,onOpenChange:a,content:p,onContentChange:m},t.createElement(qe,{scope:c,onClose:t.useCallback(()=>a(!1),[a]),isUsingKeyboardRef:d,dir:l,modal:i},o)))},pe=t.forwardRef((e,c)=>{const{__scopeMenu:n,...o}=e,s=Q(n);return t.createElement(Te,E({},s,o,{ref:c}))}),me="MenuPortal",[tt,ve]=R(me,{forceMount:void 0}),nt=e=>{const{__scopeMenu:c,forceMount:n,children:o,container:s}=e,r=P(me,c);return t.createElement(tt,{scope:c,forceMount:n},t.createElement(Y,{present:n||r.open},t.createElement(ye,{asChild:!0,container:s},o)))},C="MenuContent",[ct,q]=R(C),ot=t.forwardRef((e,c)=>{const n=ve(C,e.__scopeMenu),{forceMount:o=n.forceMount,...s}=e,r=P(C,e.__scopeMenu),i=F(C,e.__scopeMenu);return t.createElement(O.Provider,{scope:e.__scopeMenu},t.createElement(Y,{present:o||r.open},t.createElement(O.Slot,{scope:e.__scopeMenu},i.modal?t.createElement(rt,E({},s,{ref:c})):t.createElement(at,E({},s,{ref:c})))))}),rt=t.forwardRef((e,c)=>{const n=P(C,e.__scopeMenu),o=t.useRef(null),s=k(c,o);return t.useEffect(()=>{const r=o.current;if(r)return Oe(r)},[]),t.createElement(ee,E({},e,{ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:b(e.onFocusOutside,r=>r.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)}))}),at=t.forwardRef((e,c)=>{const n=P(C,e.__scopeMenu);return t.createElement(ee,E({},e,{ref:c,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)}))}),ee=t.forwardRef((e,c)=>{const{__scopeMenu:n,loop:o=!1,trapFocus:s,onOpenAutoFocus:r,onCloseAutoFocus:i,disableOutsidePointerEvents:$,onEntryFocus:p,onEscapeKeyDown:m,onPointerDownOutside:d,onFocusOutside:a,onInteractOutside:l,onDismiss:f,disableOutsideScroll:v,...M}=e,w=P(C,n),S=F(C,n),A=Q(n),K=$e(n),ce=Ze(n),[Ce,oe]=t.useState(null),L=t.useRef(null),he=k(c,L,w.onContentChange),G=t.useRef(0),N=t.useRef(""),ge=t.useRef(0),W=t.useRef(null),re=t.useRef("right"),z=t.useRef(0),Re=v?Be:t.Fragment,Pe=v?{as:Ye,allowPinchZoom:!0}:void 0,we=u=>{var _,x;const g=N.current+u,T=ce().filter(h=>!h.disabled),H=document.activeElement,ae=(_=T.find(h=>h.ref.current===H))===null||_===void 0?void 0:_.textValue,U=T.map(h=>h.textValue),y=Ct(U,g,ae),se=(x=T.find(h=>h.textValue===y))===null||x===void 0?void 0:x.ref.current;(function h(ue){N.current=ue,window.clearTimeout(G.current),ue!==""&&(G.current=window.setTimeout(()=>h(""),1e3))})(g),se&&setTimeout(()=>se.focus())};t.useEffect(()=>()=>window.clearTimeout(G.current),[]),De();const I=t.useCallback(u=>{var _,x;return re.current===((_=W.current)===null||_===void 0?void 0:_.side)&&gt(u,(x=W.current)===null||x===void 0?void 0:x.area)},[]);return t.createElement(ct,{scope:n,searchRef:N,onItemEnter:t.useCallback(u=>{I(u)&&u.preventDefault()},[I]),onItemLeave:t.useCallback(u=>{var _;I(u)||((_=L.current)===null||_===void 0||_.focus(),oe(null))},[I]),onTriggerLeave:t.useCallback(u=>{I(u)&&u.preventDefault()},[I]),pointerGraceTimerRef:ge,onPointerGraceIntentChange:t.useCallback(u=>{W.current=u},[])},t.createElement(Re,Pe,t.createElement(ke,{asChild:!0,trapped:s,onMountAutoFocus:b(r,u=>{var _;u.preventDefault(),(_=L.current)===null||_===void 0||_.focus()}),onUnmountAutoFocus:i},t.createElement(Fe,{asChild:!0,disableOutsidePointerEvents:$,onEscapeKeyDown:m,onPointerDownOutside:d,onFocusOutside:a,onInteractOutside:l,onDismiss:f},t.createElement(Ae,E({asChild:!0},K,{dir:S.dir,orientation:"vertical",loop:o,currentTabStopId:Ce,onCurrentTabStopIdChange:oe,onEntryFocus:b(p,u=>{S.isUsingKeyboardRef.current||u.preventDefault()})}),t.createElement(Ke,E({role:"menu","aria-orientation":"vertical","data-state":xe(w.open),"data-radix-menu-content":"",dir:S.dir},A,M,{ref:he,style:{outline:"none",...M.style},onKeyDown:b(M.onKeyDown,u=>{const x=u.target.closest("[data-radix-menu-content]")===u.currentTarget,g=u.ctrlKey||u.altKey||u.metaKey,T=u.key.length===1;x&&(u.key==="Tab"&&u.preventDefault(),!g&&T&&we(u.key));const H=L.current;if(u.target!==H||!We.includes(u.key))return;u.preventDefault();const U=ce().filter(y=>!y.disabled).map(y=>y.ref.current);fe.includes(u.key)&&U.reverse(),Mt(U)}),onBlur:b(e.onBlur,u=>{u.currentTarget.contains(u.target)||(window.clearTimeout(G.current),N.current="")}),onPointerMove:b(e.onPointerMove,D(u=>{const _=u.target,x=z.current!==u.clientX;if(u.currentTarget.contains(_)&&x){const g=u.clientX>z.current?"right":"left";re.current=g,z.current=u.clientX}}))})))))))}),st=t.forwardRef((e,c)=>{const{__scopeMenu:n,...o}=e;return t.createElement(X.div,E({},o,{ref:c}))}),J="MenuItem",ie="menu.itemSelect",te=t.forwardRef((e,c)=>{const{disabled:n=!1,onSelect:o,...s}=e,r=t.useRef(null),i=F(J,e.__scopeMenu),$=q(J,e.__scopeMenu),p=k(c,r),m=t.useRef(!1),d=()=>{const a=r.current;if(!n&&a){const l=new CustomEvent(ie,{bubbles:!0,cancelable:!0});a.addEventListener(ie,f=>o==null?void 0:o(f),{once:!0}),Xe(a,l),l.defaultPrevented?m.current=!1:i.onClose()}};return t.createElement(be,E({},s,{ref:p,disabled:n,onClick:b(e.onClick,d),onPointerDown:a=>{var l;(l=e.onPointerDown)===null||l===void 0||l.call(e,a),m.current=!0},onPointerUp:b(e.onPointerUp,a=>{var l;m.current||(l=a.currentTarget)===null||l===void 0||l.click()}),onKeyDown:b(e.onKeyDown,a=>{const l=$.searchRef.current!=="";n||l&&a.key===" "||Z.includes(a.key)&&(a.currentTarget.click(),a.preventDefault())})}))}),be=t.forwardRef((e,c)=>{const{__scopeMenu:n,disabled:o=!1,textValue:s,...r}=e,i=q(J,n),$=$e(n),p=t.useRef(null),m=k(c,p),[d,a]=t.useState(!1),[l,f]=t.useState("");return t.useEffect(()=>{const v=p.current;if(v){var M;f(((M=v.textContent)!==null&&M!==void 0?M:"").trim())}},[r.children]),t.createElement(O.ItemSlot,{scope:n,disabled:o,textValue:s??l},t.createElement(Le,E({asChild:!0},$,{focusable:!o}),t.createElement(X.div,E({role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":o||void 0,"data-disabled":o?"":void 0},r,{ref:m,onPointerMove:b(e.onPointerMove,D(v=>{o?i.onItemLeave(v):(i.onItemEnter(v),v.defaultPrevented||v.currentTarget.focus())})),onPointerLeave:b(e.onPointerLeave,D(v=>i.onItemLeave(v))),onFocus:b(e.onFocus,()=>a(!0)),onBlur:b(e.onBlur,()=>a(!1))}))))}),ut=t.forwardRef((e,c)=>{const{checked:n=!1,onCheckedChange:o,...s}=e;return t.createElement(Ee,{scope:e.__scopeMenu,checked:n},t.createElement(te,E({role:"menuitemcheckbox","aria-checked":B(n)?"mixed":n},s,{ref:c,"data-state":ne(n),onSelect:b(s.onSelect,()=>o==null?void 0:o(B(n)?!0:!n),{checkForDefaultPrevented:!1})})))}),it="MenuRadioGroup",[wt,dt]=R(it,{value:void 0,onValueChange:()=>{}}),lt="MenuRadioItem",ft=t.forwardRef((e,c)=>{const{value:n,...o}=e,s=dt(lt,e.__scopeMenu),r=n===s.value;return t.createElement(Ee,{scope:e.__scopeMenu,checked:r},t.createElement(te,E({role:"menuitemradio","aria-checked":r},o,{ref:c,"data-state":ne(r),onSelect:b(o.onSelect,()=>{var i;return(i=s.onValueChange)===null||i===void 0?void 0:i.call(s,n)},{checkForDefaultPrevented:!1})})))}),_e="MenuItemIndicator",[Ee,$t]=R(_e,{checked:!1}),pt=t.forwardRef((e,c)=>{const{__scopeMenu:n,forceMount:o,...s}=e,r=$t(_e,n);return t.createElement(Y,{present:o||B(r.checked)||r.checked===!0},t.createElement(X.span,E({},s,{ref:c,"data-state":ne(r.checked)})))}),mt=t.forwardRef((e,c)=>{const{__scopeMenu:n,...o}=e;return t.createElement(X.div,E({role:"separator","aria-orientation":"horizontal"},o,{ref:c}))}),vt="MenuSub",[It,Me]=R(vt),V="MenuSubTrigger",bt=t.forwardRef((e,c)=>{const n=P(V,e.__scopeMenu),o=F(V,e.__scopeMenu),s=Me(V,e.__scopeMenu),r=q(V,e.__scopeMenu),i=t.useRef(null),{pointerGraceTimerRef:$,onPointerGraceIntentChange:p}=r,m={__scopeMenu:e.__scopeMenu},d=t.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return t.useEffect(()=>d,[d]),t.useEffect(()=>{const a=$.current;return()=>{window.clearTimeout(a),p(null)}},[$,p]),t.createElement(pe,E({asChild:!0},m),t.createElement(be,E({id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":xe(n.open)},e,{ref:Ge(c,s.onTriggerChange),onClick:a=>{var l;(l=e.onClick)===null||l===void 0||l.call(e,a),!(e.disabled||a.defaultPrevented)&&(a.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:b(e.onPointerMove,D(a=>{r.onItemEnter(a),!a.defaultPrevented&&!e.disabled&&!n.open&&!i.current&&(r.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:b(e.onPointerLeave,D(a=>{var l;d();const f=(l=n.content)===null||l===void 0?void 0:l.getBoundingClientRect();if(f){var v;const M=(v=n.content)===null||v===void 0?void 0:v.dataset.side,w=M==="right",S=w?-5:5,A=f[w?"left":"right"],K=f[w?"right":"left"];r.onPointerGraceIntentChange({area:[{x:a.clientX+S,y:a.clientY},{x:A,y:f.top},{x:K,y:f.top},{x:K,y:f.bottom},{x:A,y:f.bottom}],side:M}),window.clearTimeout($.current),$.current=window.setTimeout(()=>r.onPointerGraceIntentChange(null),300)}else{if(r.onTriggerLeave(a),a.defaultPrevented)return;r.onPointerGraceIntentChange(null)}})),onKeyDown:b(e.onKeyDown,a=>{const l=r.searchRef.current!=="";if(!(e.disabled||l&&a.key===" ")&&ze[o.dir].includes(a.key)){var f;n.onOpenChange(!0),(f=n.content)===null||f===void 0||f.focus(),a.preventDefault()}})})))}),_t="MenuSubContent",Et=t.forwardRef((e,c)=>{const n=ve(C,e.__scopeMenu),{forceMount:o=n.forceMount,...s}=e,r=P(C,e.__scopeMenu),i=F(C,e.__scopeMenu),$=Me(_t,e.__scopeMenu),p=t.useRef(null),m=k(c,p);return t.createElement(O.Provider,{scope:e.__scopeMenu},t.createElement(Y,{present:o||r.open},t.createElement(O.Slot,{scope:e.__scopeMenu},t.createElement(ee,E({id:$.contentId,"aria-labelledby":$.triggerId},s,{ref:m,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var a;i.isUsingKeyboardRef.current&&((a=p.current)===null||a===void 0||a.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:b(e.onFocusOutside,d=>{d.target!==$.trigger&&r.onOpenChange(!1)}),onEscapeKeyDown:b(e.onEscapeKeyDown,d=>{i.onClose(),d.preventDefault()}),onKeyDown:b(e.onKeyDown,d=>{const a=d.currentTarget.contains(d.target),l=He[i.dir].includes(d.key);if(a&&l){var f;r.onOpenChange(!1),(f=$.trigger)===null||f===void 0||f.focus(),d.preventDefault()}})})))))});function xe(e){return e?"open":"closed"}function B(e){return e==="indeterminate"}function ne(e){return B(e)?"indeterminate":e?"checked":"unchecked"}function Mt(e){const c=document.activeElement;for(const n of e)if(n===c||(n.focus(),document.activeElement!==c))return}function xt(e,c){return e.map((n,o)=>e[(c+o)%e.length])}function Ct(e,c,n){const s=c.length>1&&Array.from(c).every(m=>m===c[0])?c[0]:c,r=n?e.indexOf(n):-1;let i=xt(e,Math.max(r,0));s.length===1&&(i=i.filter(m=>m!==n));const p=i.find(m=>m.toLowerCase().startsWith(s.toLowerCase()));return p!==n?p:void 0}function ht(e,c){const{x:n,y:o}=e;let s=!1;for(let r=0,i=c.length-1;r<c.length;i=r++){const $=c[r].x,p=c[r].y,m=c[i].x,d=c[i].y;p>o!=d>o&&n<(m-$)*(o-p)/(d-p)+$&&(s=!s)}return s}function gt(e,c){if(!c)return!1;const n={x:e.clientX,y:e.clientY};return ht(n,c)}function D(e){return c=>c.pointerType==="mouse"?e(c):void 0}const St=et,Tt=pe,yt=nt,Ot=ot,Dt=st,kt=te,Ft=ut,At=ft,Kt=pt,Lt=mt,Gt=bt,Nt=Et;export{Pt as $,yt as a,Ot as b,Dt as c,kt as d,Ft as e,At as f,Kt as g,Lt as h,Gt as i,Nt as j,St as k,Tt as l};
