import{a as _,r as e,d as P,b as g,g as m,_ as h,f as y,t as R,u as q}from"./index-4b973fe8.js";const C="Switch",[B,j]=_(C),[I,M]=B(C),T=e.forwardRef((t,d)=>{const{__scopeSwitch:c,name:o,checked:r,defaultChecked:f,required:s,disabled:n,value:b="on",onCheckedChange:u,...k}=t,[a,p]=e.useState(null),v=P(d,$=>p($)),l=e.useRef(!1),x=a?!!a.closest("form"):!0,[i=!1,S]=g({prop:r,defaultProp:f,onChange:u});return e.createElement(I,{scope:c,checked:i,disabled:n},e.createElement(m.button,h({type:"button",role:"switch","aria-checked":i,"aria-required":s,"data-state":w(i),"data-disabled":n?"":void 0,disabled:n,value:b},k,{ref:v,onClick:y(t.onClick,$=>{S(E=>!E),x&&(l.current=$.isPropagationStopped(),l.current||$.stopPropagation())})})),x&&e.createElement(N,{control:a,bubbles:!l.current,name:o,value:b,checked:i,required:s,disabled:n,style:{transform:"translateX(-100%)"}}))}),H="SwitchThumb",A=e.forwardRef((t,d)=>{const{__scopeSwitch:c,...o}=t,r=M(H,c);return e.createElement(m.span,h({"data-state":w(r.checked),"data-disabled":r.disabled?"":void 0},o,{ref:d}))}),N=t=>{const{control:d,checked:c,bubbles:o=!0,...r}=t,f=e.useRef(null),s=R(c),n=q(d);return e.useEffect(()=>{const b=f.current,u=window.HTMLInputElement.prototype,a=Object.getOwnPropertyDescriptor(u,"checked").set;if(s!==c&&a){const p=new Event("click",{bubbles:o});a.call(b,c),b.dispatchEvent(p)}},[s,c,o]),e.createElement("input",h({type:"checkbox","aria-hidden":!0,defaultChecked:c},r,{tabIndex:-1,ref:f,style:{...t.style,...n,position:"absolute",pointerEvents:"none",opacity:0,margin:0}}))};function w(t){return t?"checked":"unchecked"}const z=T,D=A;export{z as $,D as a};
