import{a as l,r as a,g as f,_ as b,n as p,o as m}from"./index-d7cf9877.js";const u="Avatar",[v,I]=l(u),[A,g]=v(u),x=a.forwardRef((t,n)=>{const{__scopeAvatar:c,...e}=t,[o,r]=a.useState("idle");return a.createElement(A,{scope:c,imageLoadingStatus:o,onImageLoadingStatusChange:r},a.createElement(f.span,b({},e,{ref:n})))}),S="AvatarImage",_=a.forwardRef((t,n)=>{const{__scopeAvatar:c,src:e,onLoadingStatusChange:o=()=>{},...r}=t,s=g(S,c),d=w(e),$=p(i=>{o(i),s.onImageLoadingStatusChange(i)});return m(()=>{d!=="idle"&&$(d)},[d,$]),d==="loaded"?a.createElement(f.img,b({},r,{ref:n,src:e})):null}),L="AvatarFallback",E=a.forwardRef((t,n)=>{const{__scopeAvatar:c,delayMs:e,...o}=t,r=g(L,c),[s,d]=a.useState(e===void 0);return a.useEffect(()=>{if(e!==void 0){const $=window.setTimeout(()=>d(!0),e);return()=>window.clearTimeout($)}},[e]),s&&r.imageLoadingStatus!=="loaded"?a.createElement(f.span,b({},o,{ref:n})):null});function w(t){const[n,c]=a.useState("idle");return a.useEffect(()=>{if(!t){c("error");return}let e=!0;const o=new window.Image,r=s=>()=>{e&&c(s)};return c("loading"),o.onload=r("loaded"),o.onerror=r("error"),o.src=t,()=>{e=!1}},[t]),n}const M=x,h=_,R=E;export{M as $,h as a,R as b};
