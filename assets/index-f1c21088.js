import{r,v as it,_ as N,w as We,x as dt,y as ft,z as vt,A as mt,B,D as ht,E as pt,F as $t,G as Et,H as bt,I as gt,J as Ct,K as yt}from"./index-6980ecaf.js";function W(e,t,{checkForDefaultPrevented:n=!0}={}){return function(c){if(e==null||e(c),n===!1||!c.defaultPrevented)return t==null?void 0:t(c)}}function St(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function He(...e){return t=>e.forEach(n=>St(n,t))}function j(...e){return r.useCallback(He(...e),e)}function wt(e,t=[]){let n=[];function o(a,u){const l=r.createContext(u),i=n.length;n=[...n,u];function s(m){const{scope:g,children:b,...O}=m,f=(g==null?void 0:g[e][i])||l,E=r.useMemo(()=>O,Object.values(O));return r.createElement(f.Provider,{value:E},b)}function v(m,g){const b=(g==null?void 0:g[e][i])||l,O=r.useContext(b);if(O)return O;if(u!==void 0)return u;throw new Error(`\`${m}\` must be used within \`${a}\``)}return s.displayName=a+"Provider",[s,v]}const c=()=>{const a=n.map(u=>r.createContext(u));return function(l){const i=(l==null?void 0:l[e])||a;return r.useMemo(()=>({[`__scope${e}`]:{...l,[e]:i}}),[l,i])}};return c.scopeName=e,[o,Rt(c,...t)]}function Rt(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const o=e.map(c=>({useScope:c(),scopeName:c.scopeName}));return function(a){const u=o.reduce((l,{useScope:i,scopeName:s})=>{const m=i(a)[`__scope${s}`];return{...l,...m}},{});return r.useMemo(()=>({[`__scope${t.scopeName}`]:u}),[u])}};return n.scopeName=t.scopeName,n}const he=globalThis!=null&&globalThis.document?r.useLayoutEffect:()=>{},Pt=it["useId".toString()]||(()=>{});let Ot=0;function le(e){const[t,n]=r.useState(Pt());return he(()=>{e||n(o=>o??String(Ot++))},[e]),e||(t?`radix-${t}`:"")}function F(e){const t=r.useRef(e);return r.useEffect(()=>{t.current=e}),r.useMemo(()=>(...n)=>{var o;return(o=t.current)===null||o===void 0?void 0:o.call(t,...n)},[])}function Dt({prop:e,defaultProp:t,onChange:n=()=>{}}){const[o,c]=At({defaultProp:t,onChange:n}),a=e!==void 0,u=a?e:o,l=F(n),i=r.useCallback(s=>{if(a){const m=typeof s=="function"?s(e):s;m!==e&&l(m)}else c(s)},[a,e,c,l]);return[u,i]}function At({defaultProp:e,onChange:t}){const n=r.useState(e),[o]=n,c=r.useRef(o),a=F(t);return r.useEffect(()=>{c.current!==o&&(a(o),c.current=o)},[o,c,a]),n}const ye=r.forwardRef((e,t)=>{const{children:n,...o}=e,c=r.Children.toArray(n),a=c.find(xt);if(a){const u=a.props.children,l=c.map(i=>i===a?r.Children.count(u)>1?r.Children.only(null):r.isValidElement(u)?u.props.children:null:i);return r.createElement(pe,N({},o,{ref:t}),r.isValidElement(u)?r.cloneElement(u,void 0,l):null)}return r.createElement(pe,N({},o,{ref:t}),n)});ye.displayName="Slot";const pe=r.forwardRef((e,t)=>{const{children:n,...o}=e;return r.isValidElement(n)?r.cloneElement(n,{..._t(o,n.props),ref:He(t,n.ref)}):r.Children.count(n)>1?r.Children.only(null):null});pe.displayName="SlotClone";const Nt=({children:e})=>r.createElement(r.Fragment,null,e);function xt(e){return r.isValidElement(e)&&e.type===Nt}function _t(e,t){const n={...t};for(const o in t){const c=e[o],a=t[o];/^on[A-Z]/.test(o)?n[o]=(...l)=>{a==null||a(...l),c==null||c(...l)}:o==="style"?n[o]={...c,...a}:o==="className"&&(n[o]=[c,a].filter(Boolean).join(" "))}return{...e,...n}}const Tt=["a","button","div","h2","h3","img","li","nav","ol","p","span","svg","ul"],ne=Tt.reduce((e,t)=>{const n=r.forwardRef((o,c)=>{const{asChild:a,...u}=o,l=a?ye:t;return r.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),r.createElement(l,N({},u,{ref:c}))});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function kt(e,t){e&&We.flushSync(()=>e.dispatchEvent(t))}function Lt(e){const t=F(e);r.useEffect(()=>{const n=o=>{o.key==="Escape"&&t(o)};return document.addEventListener("keydown",n),()=>document.removeEventListener("keydown",n)},[t])}const $e="dismissableLayer.update",Ft="dismissableLayer.pointerDownOutside",It="dismissableLayer.focusOutside";let Ae;const Mt=r.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ut=r.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:o,onPointerDownOutside:c,onFocusOutside:a,onInteractOutside:u,onDismiss:l,...i}=e,s=r.useContext(Mt),[v,m]=r.useState(null),[,g]=r.useState({}),b=j(t,w=>m(w)),O=Array.from(s.layers),[f]=[...s.layersWithOutsidePointerEventsDisabled].slice(-1),E=O.indexOf(f),p=v?O.indexOf(v):-1,R=s.layersWithOutsidePointerEventsDisabled.size>0,S=p>=E,C=Bt(w=>{const A=w.target,_=[...s.branches].some(T=>T.contains(A));!S||_||(c==null||c(w),u==null||u(w),w.defaultPrevented||l==null||l())}),P=Kt(w=>{const A=w.target;[...s.branches].some(T=>T.contains(A))||(a==null||a(w),u==null||u(w),w.defaultPrevented||l==null||l())});return Lt(w=>{p===s.layers.size-1&&(o==null||o(w),!w.defaultPrevented&&l&&(w.preventDefault(),l()))}),r.useEffect(()=>{if(v)return n&&(s.layersWithOutsidePointerEventsDisabled.size===0&&(Ae=document.body.style.pointerEvents,document.body.style.pointerEvents="none"),s.layersWithOutsidePointerEventsDisabled.add(v)),s.layers.add(v),Ne(),()=>{n&&s.layersWithOutsidePointerEventsDisabled.size===1&&(document.body.style.pointerEvents=Ae)}},[v,n,s]),r.useEffect(()=>()=>{v&&(s.layers.delete(v),s.layersWithOutsidePointerEventsDisabled.delete(v),Ne())},[v,s]),r.useEffect(()=>{const w=()=>g({});return document.addEventListener($e,w),()=>document.removeEventListener($e,w)},[]),r.createElement(ne.div,N({},i,{ref:b,style:{pointerEvents:R?S?"auto":"none":void 0,...e.style},onFocusCapture:W(e.onFocusCapture,P.onFocusCapture),onBlurCapture:W(e.onBlurCapture,P.onBlurCapture),onPointerDownCapture:W(e.onPointerDownCapture,C.onPointerDownCapture)}))});function Bt(e){const t=F(e),n=r.useRef(!1),o=r.useRef(()=>{});return r.useEffect(()=>{const c=u=>{if(u.target&&!n.current){let i=function(){Ve(Ft,t,l,{discrete:!0})};const l={originalEvent:u};u.pointerType==="touch"?(document.removeEventListener("click",o.current),o.current=i,document.addEventListener("click",o.current,{once:!0})):i()}n.current=!1},a=window.setTimeout(()=>{document.addEventListener("pointerdown",c)},0);return()=>{window.clearTimeout(a),document.removeEventListener("pointerdown",c),document.removeEventListener("click",o.current)}},[t]),{onPointerDownCapture:()=>n.current=!0}}function Kt(e){const t=F(e),n=r.useRef(!1);return r.useEffect(()=>{const o=c=>{c.target&&!n.current&&Ve(It,t,{originalEvent:c},{discrete:!1})};return document.addEventListener("focusin",o),()=>document.removeEventListener("focusin",o)},[t]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Ne(){const e=new CustomEvent($e);document.dispatchEvent(e)}function Ve(e,t,n,{discrete:o}){const c=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&c.addEventListener(e,t,{once:!0}),o?kt(c,a):c.dispatchEvent(a)}const ue="focusScope.autoFocusOnMount",se="focusScope.autoFocusOnUnmount",xe={bubbles:!1,cancelable:!0},Wt=r.forwardRef((e,t)=>{const{loop:n=!1,trapped:o=!1,onMountAutoFocus:c,onUnmountAutoFocus:a,...u}=e,[l,i]=r.useState(null),s=F(c),v=F(a),m=r.useRef(null),g=j(t,f=>i(f)),b=r.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;r.useEffect(()=>{if(o){let f=function(p){if(b.paused||!l)return;const R=p.target;l.contains(R)?m.current=R:L(m.current,{select:!0})},E=function(p){b.paused||!l||l.contains(p.relatedTarget)||L(m.current,{select:!0})};return document.addEventListener("focusin",f),document.addEventListener("focusout",E),()=>{document.removeEventListener("focusin",f),document.removeEventListener("focusout",E)}}},[o,l,b.paused]),r.useEffect(()=>{if(l){Te.add(b);const f=document.activeElement;if(!l.contains(f)){const p=new CustomEvent(ue,xe);l.addEventListener(ue,s),l.dispatchEvent(p),p.defaultPrevented||(Ht(zt(Ye(l)),{select:!0}),document.activeElement===f&&L(l))}return()=>{l.removeEventListener(ue,s),setTimeout(()=>{const p=new CustomEvent(se,xe);l.addEventListener(se,v),l.dispatchEvent(p),p.defaultPrevented||L(f??document.body,{select:!0}),l.removeEventListener(se,v),Te.remove(b)},0)}}},[l,s,v,b]);const O=r.useCallback(f=>{if(!n&&!o||b.paused)return;const E=f.key==="Tab"&&!f.altKey&&!f.ctrlKey&&!f.metaKey,p=document.activeElement;if(E&&p){const R=f.currentTarget,[S,C]=Vt(R);S&&C?!f.shiftKey&&p===C?(f.preventDefault(),n&&L(S,{select:!0})):f.shiftKey&&p===S&&(f.preventDefault(),n&&L(C,{select:!0})):p===R&&f.preventDefault()}},[n,o,b.paused]);return r.createElement(ne.div,N({tabIndex:-1},u,{ref:g,onKeyDown:O}))});function Ht(e,{select:t=!1}={}){const n=document.activeElement;for(const o of e)if(L(o,{select:t}),document.activeElement!==n)return}function Vt(e){const t=Ye(e),n=_e(t,e),o=_e(t.reverse(),e);return[n,o]}function Ye(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>{const c=o.tagName==="INPUT"&&o.type==="hidden";return o.disabled||o.hidden||c?NodeFilter.FILTER_SKIP:o.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function _e(e,t){for(const n of e)if(!Yt(n,{upTo:t}))return n}function Yt(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Xt(e){return e instanceof HTMLInputElement&&"select"in e}function L(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&Xt(e)&&t&&e.select()}}const Te=Gt();function Gt(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=ke(e,t),e.unshift(t)},remove(t){var n;e=ke(e,t),(n=e[0])===null||n===void 0||n.resume()}}}function ke(e,t){const n=[...e],o=n.indexOf(t);return o!==-1&&n.splice(o,1),n}function zt(e){return e.filter(t=>t.tagName!=="A")}const jt=r.forwardRef((e,t)=>{var n;const{container:o=globalThis==null||(n=globalThis.document)===null||n===void 0?void 0:n.body,...c}=e;return o?dt.createPortal(r.createElement(ne.div,N({},c,{ref:t})),o):null});function qt(e,t){return r.useReducer((n,o)=>{const c=t[n][o];return c??n},e)}const re=e=>{const{present:t,children:n}=e,o=Zt(t),c=typeof n=="function"?n({present:o.isPresent}):r.Children.only(n),a=j(o.ref,c.ref);return typeof n=="function"||o.isPresent?r.cloneElement(c,{ref:a}):null};re.displayName="Presence";function Zt(e){const[t,n]=r.useState(),o=r.useRef({}),c=r.useRef(e),a=r.useRef("none"),u=e?"mounted":"unmounted",[l,i]=qt(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return r.useEffect(()=>{const s=Q(o.current);a.current=l==="mounted"?s:"none"},[l]),he(()=>{const s=o.current,v=c.current;if(v!==e){const g=a.current,b=Q(s);e?i("MOUNT"):b==="none"||(s==null?void 0:s.display)==="none"?i("UNMOUNT"):i(v&&g!==b?"ANIMATION_OUT":"UNMOUNT"),c.current=e}},[e,i]),he(()=>{if(t){const s=m=>{const b=Q(o.current).includes(m.animationName);m.target===t&&b&&We.flushSync(()=>i("ANIMATION_END"))},v=m=>{m.target===t&&(a.current=Q(o.current))};return t.addEventListener("animationstart",v),t.addEventListener("animationcancel",s),t.addEventListener("animationend",s),()=>{t.removeEventListener("animationstart",v),t.removeEventListener("animationcancel",s),t.removeEventListener("animationend",s)}}else i("ANIMATION_END")},[t,i]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:r.useCallback(s=>{s&&(o.current=getComputedStyle(s)),n(s)},[])}}function Q(e){return(e==null?void 0:e.animationName)||"none"}let ie=0;function Jt(){r.useEffect(()=>{var e,t;const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(e=n[0])!==null&&e!==void 0?e:Le()),document.body.insertAdjacentElement("beforeend",(t=n[1])!==null&&t!==void 0?t:Le()),ie++,()=>{ie===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(o=>o.remove()),ie--}},[])}function Le(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}var Xe=ft(),de=function(){},oe=r.forwardRef(function(e,t){var n=r.useRef(null),o=r.useState({onScrollCapture:de,onWheelCapture:de,onTouchMoveCapture:de}),c=o[0],a=o[1],u=e.forwardProps,l=e.children,i=e.className,s=e.removeScrollBar,v=e.enabled,m=e.shards,g=e.sideCar,b=e.noIsolation,O=e.inert,f=e.allowPinchZoom,E=e.as,p=E===void 0?"div":E,R=vt(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),S=g,C=mt([n,t]),P=B(B({},R),c);return r.createElement(r.Fragment,null,v&&r.createElement(S,{sideCar:Xe,removeScrollBar:s,shards:m,noIsolation:b,inert:O,setCallbacks:a,allowPinchZoom:!!f,lockRef:n}),u?r.cloneElement(r.Children.only(l),B(B({},P),{ref:C})):r.createElement(p,B({},P,{className:i,ref:C}),l))});oe.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};oe.classNames={fullWidth:ht,zeroRight:pt};var Ee=!1;if(typeof window<"u")try{var ee=Object.defineProperty({},"passive",{get:function(){return Ee=!0,!0}});window.addEventListener("test",ee,ee),window.removeEventListener("test",ee,ee)}catch{Ee=!1}var M=Ee?{passive:!1}:!1,Qt=function(e){var t=window.getComputedStyle(e);return t.overflowY!=="hidden"&&!(t.overflowY===t.overflowX&&t.overflowY==="visible")},en=function(e){var t=window.getComputedStyle(e);return t.overflowX!=="hidden"&&!(t.overflowY===t.overflowX&&t.overflowX==="visible")},Fe=function(e,t){var n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var o=Ge(e,n);if(o){var c=ze(e,n),a=c[1],u=c[2];if(a>u)return!0}n=n.parentNode}while(n&&n!==document.body);return!1},tn=function(e){var t=e.scrollTop,n=e.scrollHeight,o=e.clientHeight;return[t,n,o]},nn=function(e){var t=e.scrollLeft,n=e.scrollWidth,o=e.clientWidth;return[t,n,o]},Ge=function(e,t){return e==="v"?Qt(t):en(t)},ze=function(e,t){return e==="v"?tn(t):nn(t)},rn=function(e,t){return e==="h"&&t==="rtl"?-1:1},on=function(e,t,n,o,c){var a=rn(e,window.getComputedStyle(t).direction),u=a*o,l=n.target,i=t.contains(l),s=!1,v=u>0,m=0,g=0;do{var b=ze(e,l),O=b[0],f=b[1],E=b[2],p=f-E-a*O;(O||p)&&Ge(e,l)&&(m+=p,g+=O),l=l.parentNode}while(!i&&l!==document.body||i&&(t.contains(l)||t===l));return(v&&(c&&m===0||!c&&u>m)||!v&&(c&&g===0||!c&&-u>g))&&(s=!0),s},te=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Ie=function(e){return[e.deltaX,e.deltaY]},Me=function(e){return e&&"current"in e?e.current:e},cn=function(e,t){return e[0]===t[0]&&e[1]===t[1]},an=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},ln=0,U=[];function un(e){var t=r.useRef([]),n=r.useRef([0,0]),o=r.useRef(),c=r.useState(ln++)[0],a=r.useState(function(){return $t()})[0],u=r.useRef(e);r.useEffect(function(){u.current=e},[e]),r.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(c));var f=Et([e.lockRef.current],(e.shards||[]).map(Me),!0).filter(Boolean);return f.forEach(function(E){return E.classList.add("allow-interactivity-".concat(c))}),function(){document.body.classList.remove("block-interactivity-".concat(c)),f.forEach(function(E){return E.classList.remove("allow-interactivity-".concat(c))})}}},[e.inert,e.lockRef.current,e.shards]);var l=r.useCallback(function(f,E){if("touches"in f&&f.touches.length===2)return!u.current.allowPinchZoom;var p=te(f),R=n.current,S="deltaX"in f?f.deltaX:R[0]-p[0],C="deltaY"in f?f.deltaY:R[1]-p[1],P,w=f.target,A=Math.abs(S)>Math.abs(C)?"h":"v";if("touches"in f&&A==="h"&&w.type==="range")return!1;var _=Fe(A,w);if(!_)return!0;if(_?P=A:(P=A==="v"?"h":"v",_=Fe(A,w)),!_)return!1;if(!o.current&&"changedTouches"in f&&(S||C)&&(o.current=P),!P)return!0;var T=o.current||P;return on(T,E,f,T==="h"?S:C,!0)},[]),i=r.useCallback(function(f){var E=f;if(!(!U.length||U[U.length-1]!==a)){var p="deltaY"in E?Ie(E):te(E),R=t.current.filter(function(P){return P.name===E.type&&P.target===E.target&&cn(P.delta,p)})[0];if(R&&R.should){E.preventDefault();return}if(!R){var S=(u.current.shards||[]).map(Me).filter(Boolean).filter(function(P){return P.contains(E.target)}),C=S.length>0?l(E,S[0]):!u.current.noIsolation;C&&E.preventDefault()}}},[]),s=r.useCallback(function(f,E,p,R){var S={name:f,delta:E,target:p,should:R};t.current.push(S),setTimeout(function(){t.current=t.current.filter(function(C){return C!==S})},1)},[]),v=r.useCallback(function(f){n.current=te(f),o.current=void 0},[]),m=r.useCallback(function(f){s(f.type,Ie(f),f.target,l(f,e.lockRef.current))},[]),g=r.useCallback(function(f){s(f.type,te(f),f.target,l(f,e.lockRef.current))},[]);r.useEffect(function(){return U.push(a),e.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:g}),document.addEventListener("wheel",i,M),document.addEventListener("touchmove",i,M),document.addEventListener("touchstart",v,M),function(){U=U.filter(function(f){return f!==a}),document.removeEventListener("wheel",i,M),document.removeEventListener("touchmove",i,M),document.removeEventListener("touchstart",v,M)}},[]);var b=e.removeScrollBar,O=e.inert;return r.createElement(r.Fragment,null,O?r.createElement(a,{styles:an(c)}):null,b?r.createElement(bt,{gapMode:"margin"}):null)}const sn=gt(Xe,un);var je=r.forwardRef(function(e,t){return r.createElement(oe,B({},e,{ref:t,sideCar:sn}))});je.classNames=oe.classNames;const dn=je,qe="Dialog",[Ze,qn]=wt(qe),[fn,I]=Ze(qe),vn=e=>{const{__scopeDialog:t,children:n,open:o,defaultOpen:c,onOpenChange:a,modal:u=!0}=e,l=r.useRef(null),i=r.useRef(null),[s=!1,v]=Dt({prop:o,defaultProp:c,onChange:a});return r.createElement(fn,{scope:t,triggerRef:l,contentRef:i,contentId:le(),titleId:le(),descriptionId:le(),open:s,onOpenChange:v,onOpenToggle:r.useCallback(()=>v(m=>!m),[v]),modal:u},n)},Je="DialogPortal",[mn,Qe]=Ze(Je,{forceMount:void 0}),hn=e=>{const{__scopeDialog:t,forceMount:n,children:o,container:c}=e,a=I(Je,t);return r.createElement(mn,{scope:t,forceMount:n},r.Children.map(o,u=>r.createElement(re,{present:n||a.open},r.createElement(jt,{asChild:!0,container:c},u))))},be="DialogOverlay",pn=r.forwardRef((e,t)=>{const n=Qe(be,e.__scopeDialog),{forceMount:o=n.forceMount,...c}=e,a=I(be,e.__scopeDialog);return a.modal?r.createElement(re,{present:o||a.open},r.createElement($n,N({},c,{ref:t}))):null}),$n=r.forwardRef((e,t)=>{const{__scopeDialog:n,...o}=e,c=I(be,n);return r.createElement(dn,{as:ye,allowPinchZoom:!0,shards:[c.contentRef]},r.createElement(ne.div,N({"data-state":tt(c.open)},o,{ref:t,style:{pointerEvents:"auto",...o.style}})))}),z="DialogContent",En=r.forwardRef((e,t)=>{const n=Qe(z,e.__scopeDialog),{forceMount:o=n.forceMount,...c}=e,a=I(z,e.__scopeDialog);return r.createElement(re,{present:o||a.open},a.modal?r.createElement(bn,N({},c,{ref:t})):r.createElement(gn,N({},c,{ref:t})))}),bn=r.forwardRef((e,t)=>{const n=I(z,e.__scopeDialog),o=r.useRef(null),c=j(t,n.contentRef,o);return r.useEffect(()=>{const a=o.current;if(a)return Ct(a)},[]),r.createElement(et,N({},e,{ref:c,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:W(e.onCloseAutoFocus,a=>{var u;a.preventDefault(),(u=n.triggerRef.current)===null||u===void 0||u.focus()}),onPointerDownOutside:W(e.onPointerDownOutside,a=>{const u=a.detail.originalEvent,l=u.button===0&&u.ctrlKey===!0;(u.button===2||l)&&a.preventDefault()}),onFocusOutside:W(e.onFocusOutside,a=>a.preventDefault())}))}),gn=r.forwardRef((e,t)=>{const n=I(z,e.__scopeDialog),o=r.useRef(!1);return r.createElement(et,N({},e,{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:c=>{var a;if((a=e.onCloseAutoFocus)===null||a===void 0||a.call(e,c),!c.defaultPrevented){var u;o.current||(u=n.triggerRef.current)===null||u===void 0||u.focus(),c.preventDefault()}o.current=!1},onInteractOutside:c=>{var a,u;(a=e.onInteractOutside)===null||a===void 0||a.call(e,c),c.defaultPrevented||(o.current=!0);const l=c.target;((u=n.triggerRef.current)===null||u===void 0?void 0:u.contains(l))&&c.preventDefault()}}))}),et=r.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:o,onOpenAutoFocus:c,onCloseAutoFocus:a,...u}=e,l=I(z,n),i=r.useRef(null),s=j(t,i);return Jt(),r.createElement(r.Fragment,null,r.createElement(Wt,{asChild:!0,loop:!0,trapped:o,onMountAutoFocus:c,onUnmountAutoFocus:a},r.createElement(Ut,N({role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":tt(l.open)},u,{ref:s,onDismiss:()=>l.onOpenChange(!1)}))),!1)});function tt(e){return e?"open":"closed"}const Cn=vn,yn=hn,Sn=pn,wn=En;var Ue=1,Rn=.9,Pn=.3,fe=.1,On=0,ve=.999,Dn=.9999,An=.99,Be=/[\\\/\-_+.# \t"@\[\(\{&]/,Nn=/[\\\/\-_+.# \t"@\[\(\{&]/g;function ge(e,t,n,o,c,a){if(a===t.length)return c===e.length?Ue:An;for(var u=o.charAt(a),l=n.indexOf(u,c),i=0,s,v,m;l>=0;)s=ge(e,t,n,o,l+1,a+1),s>i&&(l===c?s*=Ue:Be.test(e.charAt(l-1))?(s*=Rn,m=e.slice(c,l-1).match(Nn),m&&c>0&&(s*=Math.pow(ve,m.length))):Be.test(e.slice(c,l-1))?(s*=On,c>0&&(s*=Math.pow(ve,l-c))):(s*=Pn,c>0&&(s*=Math.pow(ve,l-c))),e.charAt(l)!==t.charAt(a)&&(s*=Dn)),s<fe&&n.charAt(l-1)===o.charAt(a+1)&&n.charAt(l-1)!==o.charAt(a)&&(v=ge(e,t,n,o,l+1,a+2),v*fe>s&&(s=v*fe)),s>i&&(i=s),l=n.indexOf(u,l+1);return i}function xn(e,t){return ge(e,t,e.toLowerCase(),t.toLowerCase(),0,0)}var _n=xn;const Tn=yt(_n);var kn='[cmdk-list-sizer=""]',G='[cmdk-group=""]',me='[cmdk-group-items=""]',Ln='[cmdk-group-heading=""]',nt='[cmdk-item=""]',Ke=`${nt}:not([aria-disabled="true"])`,Ce="cmdk-item-select",k="data-value",Fn=(e,t)=>Tn(e,t),rt=r.createContext(void 0),q=()=>r.useContext(rt),ot=r.createContext(void 0),Se=()=>r.useContext(ot),ct=r.createContext(void 0),at=r.forwardRef((e,t)=>{let n=r.useRef(null),o=K(()=>({search:"",value:"",filtered:{count:0,items:new Map,groups:new Set}})),c=K(()=>new Set),a=K(()=>new Map),u=K(()=>new Map),l=K(()=>new Set),i=lt(e),{label:s,children:v,value:m,onValueChange:g,filter:b,shouldFilter:O,...f}=e,E=r.useId(),p=r.useId(),R=r.useId(),S=Gn();V(()=>{if(m!==void 0){let d=m.trim().toLowerCase();o.current.value=d,S(6,we),C.emit()}},[m]);let C=r.useMemo(()=>({subscribe:d=>(l.current.add(d),()=>l.current.delete(d)),snapshot:()=>o.current,setState:(d,$,y)=>{var h,D,x;if(!Object.is(o.current[d],$)){if(o.current[d]=$,d==="search")T(),A(),S(1,_);else if(d==="value")if(((h=i.current)==null?void 0:h.value)!==void 0){(x=(D=i.current).onValueChange)==null||x.call(D,$);return}else y||S(5,we);C.emit()}},emit:()=>{l.current.forEach(d=>d())}}),[]),P=r.useMemo(()=>({value:(d,$)=>{$!==u.current.get(d)&&(u.current.set(d,$),o.current.filtered.items.set(d,w($)),S(2,()=>{A(),C.emit()}))},item:(d,$)=>(c.current.add(d),$&&(a.current.has($)?a.current.get($).add(d):a.current.set($,new Set([d]))),S(3,()=>{T(),A(),o.current.value||_(),C.emit()}),()=>{u.current.delete(d),c.current.delete(d),o.current.filtered.items.delete(d),S(4,()=>{T(),_(),C.emit()})}),group:d=>(a.current.has(d)||a.current.set(d,new Set),()=>{u.current.delete(d),a.current.delete(d)}),filter:()=>i.current.shouldFilter,label:s||e["aria-label"],listId:E,inputId:R,labelId:p}),[]);function w(d){var $;let y=(($=i.current)==null?void 0:$.filter)??Fn;return d?y(d,o.current.search):0}function A(){if(!n.current||!o.current.search||i.current.shouldFilter===!1)return;let d=o.current.filtered.items,$=[];o.current.filtered.groups.forEach(h=>{let D=a.current.get(h),x=0;D.forEach(X=>{let st=d.get(X);x=Math.max(st,x)}),$.push([h,x])});let y=n.current.querySelector(kn);Y().sort((h,D)=>{let x=h.getAttribute(k),X=D.getAttribute(k);return(d.get(X)??0)-(d.get(x)??0)}).forEach(h=>{let D=h.closest(me);D?D.appendChild(h.parentElement===D?h:h.closest(`${me} > *`)):y.appendChild(h.parentElement===y?h:h.closest(`${me} > *`))}),$.sort((h,D)=>D[1]-h[1]).forEach(h=>{let D=n.current.querySelector(`${G}[${k}="${h[0]}"]`);D==null||D.parentElement.appendChild(D)})}function _(){let d=Y().find(y=>!y.ariaDisabled),$=d==null?void 0:d.getAttribute(k);C.setState("value",$||void 0)}function T(){if(!o.current.search||i.current.shouldFilter===!1){o.current.filtered.count=c.current.size;return}o.current.filtered.groups=new Set;let d=0;for(let $ of c.current){let y=u.current.get($),h=w(y);o.current.filtered.items.set($,h),h>0&&d++}for(let[$,y]of a.current)for(let h of y)if(o.current.filtered.items.get(h)>0){o.current.filtered.groups.add($);break}o.current.filtered.count=d}function we(){var d,$,y;let h=J();h&&(((d=h.parentElement)==null?void 0:d.firstChild)===h&&((y=($=h.closest(G))==null?void 0:$.querySelector(Ln))==null||y.scrollIntoView({block:"nearest"})),h.scrollIntoView({block:"nearest"}))}function J(){return n.current.querySelector(`${nt}[aria-selected="true"]`)}function Y(){return Array.from(n.current.querySelectorAll(Ke))}function ce(d){let $=Y()[d];$&&C.setState("value",$.getAttribute(k))}function ae(d){var $;let y=J(),h=Y(),D=h.findIndex(X=>X===y),x=h[D+d];($=i.current)!=null&&$.loop&&(x=D+d<0?h[h.length-1]:D+d===h.length?h[0]:h[D+d]),x&&C.setState("value",x.getAttribute(k))}function Re(d){let $=J(),y=$==null?void 0:$.closest(G),h;for(;y&&!h;)y=d>0?Yn(y,G):Xn(y,G),h=y==null?void 0:y.querySelector(Ke);h?C.setState("value",h.getAttribute(k)):ae(d)}let Pe=()=>ce(Y().length-1),Oe=d=>{d.preventDefault(),d.metaKey?Pe():d.altKey?Re(1):ae(1)},De=d=>{d.preventDefault(),d.metaKey?ce(0):d.altKey?Re(-1):ae(-1)};return r.createElement("div",{ref:Z([n,t]),...f,"cmdk-root":"",onKeyDown:d=>{var $;if(($=f.onKeyDown)==null||$.call(f,d),!d.defaultPrevented)switch(d.key){case"n":case"j":{d.ctrlKey&&Oe(d);break}case"ArrowDown":{Oe(d);break}case"p":case"k":{d.ctrlKey&&De(d);break}case"ArrowUp":{De(d);break}case"Home":{d.preventDefault(),ce(0);break}case"End":{d.preventDefault(),Pe();break}case"Enter":{d.preventDefault();let y=J();if(y){let h=new Event(Ce);y.dispatchEvent(h)}}}}},r.createElement("label",{"cmdk-label":"",htmlFor:P.inputId,id:P.labelId,style:zn},s),r.createElement(ot.Provider,{value:C},r.createElement(rt.Provider,{value:P},v)))}),In=r.forwardRef((e,t)=>{let n=r.useId(),o=r.useRef(null),c=r.useContext(ct),a=q(),u=lt(e);V(()=>a.item(n,c),[]);let l=ut(n,o,[e.value,e.children,o]),i=Se(),s=H(p=>p.value&&p.value===l.current),v=H(p=>a.filter()===!1?!0:p.search?p.filtered.items.get(n)>0:!0);r.useEffect(()=>{let p=o.current;if(!(!p||e.disabled))return p.addEventListener(Ce,m),()=>p.removeEventListener(Ce,m)},[v,e.onSelect,e.disabled]);function m(){var p,R;(R=(p=u.current).onSelect)==null||R.call(p,l.current)}function g(){i.setState("value",l.current,!0)}if(!v)return null;let{disabled:b,value:O,onSelect:f,...E}=e;return r.createElement("div",{ref:Z([o,t]),...E,"cmdk-item":"",role:"option","aria-disabled":b||void 0,"aria-selected":s||void 0,"data-selected":s||void 0,onPointerMove:b?void 0:g,onClick:b?void 0:m},e.children)}),Mn=r.forwardRef((e,t)=>{let{heading:n,children:o,...c}=e,a=r.useId(),u=r.useRef(null),l=r.useRef(null),i=r.useId(),s=q(),v=H(g=>s.filter()===!1?!0:g.search?g.filtered.groups.has(a):!0);V(()=>s.group(a),[]),ut(a,u,[e.value,e.heading,l]);let m=r.createElement(ct.Provider,{value:a},o);return r.createElement("div",{ref:Z([u,t]),...c,"cmdk-group":"",role:"presentation",hidden:v?void 0:!0},n&&r.createElement("div",{ref:l,"cmdk-group-heading":"","aria-hidden":!0,id:i},n),r.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":n?i:void 0},m))}),Un=r.forwardRef((e,t)=>{let{alwaysRender:n,...o}=e,c=r.useRef(null),a=H(u=>!u.search);return!n&&!a?null:r.createElement("div",{ref:Z([c,t]),...o,"cmdk-separator":"",role:"separator"})}),Bn=r.forwardRef((e,t)=>{let{onValueChange:n,...o}=e,c=e.value!=null,a=Se(),u=H(i=>i.search),l=q();return r.useEffect(()=>{e.value!=null&&a.setState("search",e.value)},[e.value]),r.createElement("input",{ref:t,...o,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":l.listId,"aria-labelledby":l.labelId,id:l.inputId,type:"text",value:c?e.value:u,onChange:i=>{c||a.setState("search",i.target.value),n==null||n(i.target.value)}})}),Kn=r.forwardRef((e,t)=>{let{children:n,...o}=e,c=r.useRef(null),a=r.useRef(null),u=q();return r.useEffect(()=>{if(a.current&&c.current){let l=a.current,i=c.current,s,v=new ResizeObserver(()=>{s=requestAnimationFrame(()=>{let m=l.getBoundingClientRect().height;i.style.setProperty("--cmdk-list-height",m.toFixed(1)+"px")})});return v.observe(l),()=>{cancelAnimationFrame(s),v.unobserve(l)}}},[]),r.createElement("div",{ref:Z([c,t]),...o,"cmdk-list":"",role:"listbox","aria-label":"Suggestions",id:u.listId,"aria-labelledby":u.inputId},r.createElement("div",{ref:a,"cmdk-list-sizer":""},n))}),Wn=r.forwardRef((e,t)=>{let{open:n,onOpenChange:o,container:c,...a}=e;return r.createElement(Cn,{open:n,onOpenChange:o},r.createElement(yn,{container:c},r.createElement(Sn,{"cmdk-overlay":""}),r.createElement(wn,{"aria-label":e.label,"cmdk-dialog":""},r.createElement(at,{ref:t,...a}))))}),Hn=r.forwardRef((e,t)=>{let n=r.useRef(!0),o=H(c=>c.filtered.count===0);return r.useEffect(()=>{n.current=!1},[]),n.current||!o?null:r.createElement("div",{ref:t,...e,"cmdk-empty":"",role:"presentation"})}),Vn=r.forwardRef((e,t)=>{let{progress:n,children:o,...c}=e;return r.createElement("div",{ref:t,...c,"cmdk-loading":"",role:"progressbar","aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":100,"aria-label":"Loading..."},r.createElement("div",{"aria-hidden":!0},o))}),Zn=Object.assign(at,{List:Kn,Item:In,Input:Bn,Group:Mn,Separator:Un,Dialog:Wn,Empty:Hn,Loading:Vn});function Yn(e,t){let n=e.nextElementSibling;for(;n;){if(n.matches(t))return n;n=n.nextElementSibling}}function Xn(e,t){let n=e.previousElementSibling;for(;n;){if(n.matches(t))return n;n=n.previousElementSibling}}function lt(e){let t=r.useRef(e);return V(()=>{t.current=e}),t}var V=typeof window>"u"?r.useEffect:r.useLayoutEffect;function K(e){let t=r.useRef();return t.current===void 0&&(t.current=e()),t}function Z(e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}function H(e){let t=Se(),n=()=>e(t.snapshot());return r.useSyncExternalStore(t.subscribe,n,n)}function ut(e,t,n){let o=r.useRef(),c=q();return V(()=>{var a;let u=(()=>{var l;for(let i of n){if(typeof i=="string")return i.trim().toLowerCase();if(typeof i=="object"&&"current"in i&&i.current)return(l=i.current.textContent)==null?void 0:l.trim().toLowerCase()}})();c.value(e,u),(a=t.current)==null||a.setAttribute(k,u),o.current=u}),o}var Gn=()=>{let[e,t]=r.useState(),n=K(()=>new Map);return V(()=>{n.current.forEach(o=>o()),n.current=new Map},[e]),(o,c)=>{n.current.set(o,c),t({})}},zn={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};export{Zn as L};
