import{$ as J,a as le,r as e,d as S,e as fe,b as de,g as h,_,t as ve,h as Z,n as D,f as x,a2 as $e,x as be,s as L,o as V,Q as ge,a0 as pe,a1 as q}from"./index-6980ecaf.js";const O="NavigationMenu",[H,ee,me]=J(O),[z,we,Ee]=J(O),[W,Ue]=le(O,[me,Ee]),[Ce,T]=W(O),[Me,Re]=W(O),xe=e.forwardRef((t,n)=>{const{__scopeNavigationMenu:c,value:a,onValueChange:o,defaultValue:r,delayDuration:i=200,skipDelayDuration:d=300,orientation:s="horizontal",dir:C,...u}=t,[g,M]=e.useState(null),m=S(n,$=>M($)),p=fe(C),b=e.useRef(0),w=e.useRef(0),R=e.useRef(0),[I,f]=e.useState(!0),[v="",l]=de({prop:a,onChange:$=>{const P=$!=="",K=d>0;P?(window.clearTimeout(R.current),K&&f(!1)):(window.clearTimeout(R.current),R.current=window.setTimeout(()=>f(!0),d)),o==null||o($)},defaultProp:r}),E=e.useCallback(()=>{window.clearTimeout(w.current),w.current=window.setTimeout(()=>l(""),150)},[l]),N=e.useCallback($=>{window.clearTimeout(w.current),l($)},[l]),y=e.useCallback($=>{v===$?window.clearTimeout(w.current):b.current=window.setTimeout(()=>{window.clearTimeout(w.current),l($)},i)},[v,l,i]);return e.useEffect(()=>()=>{window.clearTimeout(b.current),window.clearTimeout(w.current),window.clearTimeout(R.current)},[]),e.createElement(_e,{scope:c,isRootMenu:!0,value:v,dir:p,orientation:s,rootNavigationMenu:g,onTriggerEnter:$=>{window.clearTimeout(b.current),I?y($):N($)},onTriggerLeave:()=>{window.clearTimeout(b.current),E()},onContentEnter:()=>window.clearTimeout(w.current),onContentLeave:E,onItemSelect:$=>{l(P=>P===$?"":$)},onItemDismiss:()=>l("")},e.createElement(h.nav,_({"aria-label":"Main","data-orientation":s,dir:p},u,{ref:m})))}),_e=t=>{const{scope:n,isRootMenu:c,rootNavigationMenu:a,dir:o,orientation:r,children:i,value:d,onItemSelect:s,onItemDismiss:C,onTriggerEnter:u,onTriggerLeave:g,onContentEnter:M,onContentLeave:m}=t,[p,b]=e.useState(null),[w,R]=e.useState(new Map),[I,f]=e.useState(null);return e.createElement(Ce,{scope:n,isRootMenu:c,rootNavigationMenu:a,value:d,previousValue:ve(d),baseId:Z(),dir:o,orientation:r,viewport:p,onViewportChange:b,indicatorTrack:I,onIndicatorTrackChange:f,onTriggerEnter:D(u),onTriggerLeave:D(g),onContentEnter:D(M),onContentLeave:D(m),onItemSelect:D(s),onItemDismiss:D(C),onViewportContentChange:e.useCallback((v,l)=>{R(E=>(E.set(v,l),new Map(E)))},[]),onViewportContentRemove:e.useCallback(v=>{R(l=>l.has(v)?(l.delete(v),new Map(l)):l)},[])},e.createElement(H.Provider,{scope:n},e.createElement(Me,{scope:n,items:w},i)))},Ne="NavigationMenuList",Te=e.forwardRef((t,n)=>{const{__scopeNavigationMenu:c,...a}=t,o=T(Ne,c),r=e.createElement(h.ul,_({"data-orientation":o.orientation},a,{ref:n}));return e.createElement(h.div,{style:{position:"relative"},ref:o.onIndicatorTrackChange},e.createElement(H.Slot,{scope:c},o.isRootMenu?e.createElement(ae,{asChild:!0},r):r))}),he="NavigationMenuItem",[Ie,te]=W(he),ye=e.forwardRef((t,n)=>{const{__scopeNavigationMenu:c,value:a,...o}=t,r=Z(),i=a||r||"LEGACY_REACT_AUTO_VALUE",d=e.useRef(null),s=e.useRef(null),C=e.useRef(null),u=e.useRef(()=>{}),g=e.useRef(!1),M=e.useCallback((p="start")=>{if(d.current){u.current();const b=G(d.current);b.length&&B(p==="start"?b:b.reverse())}},[]),m=e.useCallback(()=>{if(d.current){const p=G(d.current);p.length&&(u.current=ze(p))}},[]);return e.createElement(Ie,{scope:c,value:i,triggerRef:s,contentRef:d,focusProxyRef:C,wasEscapeCloseRef:g,onEntryKeyDown:M,onFocusProxyEnter:M,onRootContentClose:m,onContentFocusOutside:m},e.createElement(h.li,_({},o,{ref:n})))}),Q="NavigationMenuTrigger",Pe=e.forwardRef((t,n)=>{const{__scopeNavigationMenu:c,disabled:a,...o}=t,r=T(Q,t.__scopeNavigationMenu),i=te(Q,t.__scopeNavigationMenu),d=e.useRef(null),s=S(d,i.triggerRef,n),C=ie(r.baseId,i.value),u=se(r.baseId,i.value),g=e.useRef(!1),M=e.useRef(!1),m=i.value===r.value;return e.createElement(e.Fragment,null,e.createElement(H.ItemSlot,{scope:c,value:i.value},e.createElement(ce,{asChild:!0},e.createElement(h.button,_({id:C,disabled:a,"data-disabled":a?"":void 0,"data-state":Y(m),"aria-expanded":m,"aria-controls":u},o,{ref:s,onPointerEnter:x(t.onPointerEnter,()=>{M.current=!1,i.wasEscapeCloseRef.current=!1}),onPointerMove:x(t.onPointerMove,A(()=>{a||M.current||i.wasEscapeCloseRef.current||g.current||(r.onTriggerEnter(i.value),g.current=!0)})),onPointerLeave:x(t.onPointerLeave,A(()=>{a||(r.onTriggerLeave(),g.current=!1)})),onClick:x(t.onClick,()=>{r.onItemSelect(i.value),M.current=m}),onKeyDown:x(t.onKeyDown,p=>{const w={horizontal:"ArrowDown",vertical:r.dir==="rtl"?"ArrowLeft":"ArrowRight"}[r.orientation];m&&p.key===w&&(i.onEntryKeyDown(),p.preventDefault())})})))),m&&e.createElement(e.Fragment,null,e.createElement($e,{"aria-hidden":!0,tabIndex:0,ref:i.focusProxyRef,onFocus:p=>{const b=i.contentRef.current,w=p.relatedTarget,R=w===d.current,I=b==null?void 0:b.contains(w);(R||!I)&&i.onFocusProxyEnter(R?"start":"end")}}),r.viewport&&e.createElement("span",{"aria-owns":u})))}),X="navigationMenu.linkSelect",De=e.forwardRef((t,n)=>{const{__scopeNavigationMenu:c,active:a,onSelect:o,...r}=t;return e.createElement(ce,{asChild:!0},e.createElement(h.a,_({"data-active":a?"":void 0,"aria-current":a?"page":void 0},r,{ref:n,onClick:x(t.onClick,i=>{const d=i.target,s=new CustomEvent(X,{bubbles:!0,cancelable:!0});if(d.addEventListener(X,C=>o==null?void 0:o(C),{once:!0}),q(d,s),!s.defaultPrevented&&!i.metaKey){const C=new CustomEvent(k,{bubbles:!0,cancelable:!0});q(d,C)}},{checkForDefaultPrevented:!1})})))}),ne="NavigationMenuIndicator",Fe=e.forwardRef((t,n)=>{const{forceMount:c,...a}=t,o=T(ne,t.__scopeNavigationMenu),r=!!o.value;return o.indicatorTrack?be.createPortal(e.createElement(L,{present:c||r},e.createElement(Se,_({},a,{ref:n}))),o.indicatorTrack):null}),Se=e.forwardRef((t,n)=>{const{__scopeNavigationMenu:c,...a}=t,o=T(ne,c),r=ee(c),[i,d]=e.useState(null),[s,C]=e.useState(null),u=o.orientation==="horizontal",g=!!o.value;e.useEffect(()=>{var m;const b=(m=r().find(w=>w.value===o.value))===null||m===void 0?void 0:m.ref.current;b&&d(b)},[r,o.value]);const M=()=>{i&&C({size:u?i.offsetWidth:i.offsetHeight,offset:u?i.offsetLeft:i.offsetTop})};return U(i,M),U(o.indicatorTrack,M),s?e.createElement(h.div,_({"aria-hidden":!0,"data-state":g?"visible":"hidden","data-orientation":o.orientation},a,{ref:n,style:{position:"absolute",...u?{left:0,width:s.size+"px",transform:`translateX(${s.offset}px)`}:{top:0,height:s.size+"px",transform:`translateY(${s.offset}px)`},...a.style}})):null}),F="NavigationMenuContent",Oe=e.forwardRef((t,n)=>{const{forceMount:c,...a}=t,o=T(F,t.__scopeNavigationMenu),r=te(F,t.__scopeNavigationMenu),i=S(r.contentRef,n),d=r.value===o.value,s={value:r.value,triggerRef:r.triggerRef,focusProxyRef:r.focusProxyRef,wasEscapeCloseRef:r.wasEscapeCloseRef,onContentFocusOutside:r.onContentFocusOutside,onRootContentClose:r.onRootContentClose,...a};return o.viewport?e.createElement(ke,_({forceMount:c},s,{ref:i})):e.createElement(L,{present:c||d},e.createElement(oe,_({"data-state":Y(d)},s,{ref:i,onPointerEnter:x(t.onPointerEnter,o.onContentEnter),onPointerLeave:x(t.onPointerLeave,A(o.onContentLeave)),style:{pointerEvents:!d&&o.isRootMenu?"none":void 0,...s.style}})))}),ke=e.forwardRef((t,n)=>{const c=T(F,t.__scopeNavigationMenu),{onViewportContentChange:a,onViewportContentRemove:o}=c;return V(()=>{a(t.value,{ref:n,...t})},[t,n,a]),V(()=>()=>o(t.value),[t.value,o]),null}),k="navigationMenu.rootContentDismiss",oe=e.forwardRef((t,n)=>{const{__scopeNavigationMenu:c,value:a,triggerRef:o,focusProxyRef:r,wasEscapeCloseRef:i,onRootContentClose:d,onContentFocusOutside:s,...C}=t,u=T(F,c),g=e.useRef(null),M=S(g,n),m=ie(u.baseId,a),p=se(u.baseId,a),b=ee(c),w=e.useRef(null),{onItemDismiss:R}=u;e.useEffect(()=>{const f=g.current;if(u.isRootMenu&&f){const v=()=>{var l;R(),d(),f.contains(document.activeElement)&&((l=o.current)===null||l===void 0||l.focus())};return f.addEventListener(k,v),()=>f.removeEventListener(k,v)}},[u.isRootMenu,t.value,o,R,d]);const I=e.useMemo(()=>{const v=b().map(P=>P.value);u.dir==="rtl"&&v.reverse();const l=v.indexOf(u.value),E=v.indexOf(u.previousValue),N=a===u.value,y=E===v.indexOf(a);if(!N&&!y)return w.current;const $=(()=>{if(l!==E){if(N&&E!==-1)return l>E?"from-end":"from-start";if(y&&l!==-1)return l>E?"to-start":"to-end"}return null})();return w.current=$,$},[u.previousValue,u.value,u.dir,b,a]);return e.createElement(ae,{asChild:!0},e.createElement(ge,_({id:p,"aria-labelledby":m,"data-motion":I,"data-orientation":u.orientation},C,{ref:M,onDismiss:()=>{var f;const v=new Event(k,{bubbles:!0,cancelable:!0});(f=g.current)===null||f===void 0||f.dispatchEvent(v)},onFocusOutside:x(t.onFocusOutside,f=>{var v;s();const l=f.target;(v=u.rootNavigationMenu)!==null&&v!==void 0&&v.contains(l)&&f.preventDefault()}),onPointerDownOutside:x(t.onPointerDownOutside,f=>{var v;const l=f.target,E=b().some(y=>{var $;return($=y.ref.current)===null||$===void 0?void 0:$.contains(l)}),N=u.isRootMenu&&((v=u.viewport)===null||v===void 0?void 0:v.contains(l));(E||N||!u.isRootMenu)&&f.preventDefault()}),onKeyDown:x(t.onKeyDown,f=>{const v=f.altKey||f.ctrlKey||f.metaKey;if(f.key==="Tab"&&!v){const N=G(f.currentTarget),y=document.activeElement,$=N.findIndex(ue=>ue===y),K=f.shiftKey?N.slice(0,$).reverse():N.slice($+1,N.length);if(B(K))f.preventDefault();else{var E;(E=r.current)===null||E===void 0||E.focus()}}}),onEscapeKeyDown:x(t.onEscapeKeyDown,f=>{i.current=!0})})))}),re="NavigationMenuViewport",Ae=e.forwardRef((t,n)=>{const{forceMount:c,...a}=t,r=!!T(re,t.__scopeNavigationMenu).value;return e.createElement(L,{present:c||r},e.createElement(Le,_({},a,{ref:n})))}),Le=e.forwardRef((t,n)=>{const{__scopeNavigationMenu:c,children:a,...o}=t,r=T(re,c),i=S(n,r.onViewportChange),d=Re(F,t.__scopeNavigationMenu),[s,C]=e.useState(null),[u,g]=e.useState(null),M=s?(s==null?void 0:s.width)+"px":void 0,m=s?(s==null?void 0:s.height)+"px":void 0,p=!!r.value,b=p?r.value:r.previousValue;return U(u,()=>{u&&C({width:u.offsetWidth,height:u.offsetHeight})}),e.createElement(h.div,_({"data-state":Y(p),"data-orientation":r.orientation},o,{ref:i,style:{pointerEvents:!p&&r.isRootMenu?"none":void 0,"--radix-navigation-menu-viewport-width":M,"--radix-navigation-menu-viewport-height":m,...o.style},onPointerEnter:x(t.onPointerEnter,r.onContentEnter),onPointerLeave:x(t.onPointerLeave,A(r.onContentLeave))}),Array.from(d.items).map(([R,{ref:I,forceMount:f,...v}])=>{const l=b===R;return e.createElement(L,{key:R,present:f||l},e.createElement(oe,_({},v,{ref:pe(I,E=>{l&&E&&g(E)})})))}))}),Ke="FocusGroup",ae=e.forwardRef((t,n)=>{const{__scopeNavigationMenu:c,...a}=t,o=T(Ke,c);return e.createElement(z.Provider,{scope:c},e.createElement(z.Slot,{scope:c},e.createElement(h.div,_({dir:o.dir},a,{ref:n}))))}),j=["ArrowRight","ArrowLeft","ArrowUp","ArrowDown"],Ve="FocusGroupItem",ce=e.forwardRef((t,n)=>{const{__scopeNavigationMenu:c,...a}=t,o=we(c),r=T(Ve,c);return e.createElement(z.ItemSlot,{scope:c},e.createElement(h.button,_({},a,{ref:n,onKeyDown:x(t.onKeyDown,i=>{if(["Home","End",...j].includes(i.key)){let s=o().map(g=>g.ref.current);if([r.dir==="rtl"?"ArrowRight":"ArrowLeft","ArrowUp","End"].includes(i.key)&&s.reverse(),j.includes(i.key)){const g=s.indexOf(i.currentTarget);s=s.slice(g+1)}setTimeout(()=>B(s)),i.preventDefault()}})})))});function G(t){const n=[],c=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const o=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||o?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;c.nextNode();)n.push(c.currentNode);return n}function B(t){const n=document.activeElement;return t.some(c=>c===n?!0:(c.focus(),document.activeElement!==n))}function ze(t){return t.forEach(n=>{n.dataset.tabindex=n.getAttribute("tabindex")||"",n.setAttribute("tabindex","-1")}),()=>{t.forEach(n=>{const c=n.dataset.tabindex;n.setAttribute("tabindex",c)})}}function U(t,n){const c=D(n);V(()=>{let a=0;if(t){const o=new ResizeObserver(()=>{cancelAnimationFrame(a),a=window.requestAnimationFrame(c)});return o.observe(t),()=>{window.cancelAnimationFrame(a),o.unobserve(t)}}},[t,c])}function Y(t){return t?"open":"closed"}function ie(t,n){return`${t}-trigger-${n}`}function se(t,n){return`${t}-content-${n}`}function A(t){return n=>n.pointerType==="mouse"?t(n):void 0}const He=xe,We=Te,Be=ye,Ye=Pe,qe=De,Qe=Fe,Xe=Oe,je=Ae;export{He as $,We as a,Ye as b,Xe as c,je as d,Qe as e,Be as f,qe as g};
