import{$ as re,a as ie,r,d as M,b as se,_ as y,f as _,g as B,u as ce,t as de,a3 as X,e as le}from"./index-d7cf9877.js";const G=["PageUp","PageDown"],W=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],j={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},I="Slider",[H,fe,ue]=re(I),[q,Ve]=ie(I,[ue]),[$e,T]=q(I),me=r.forwardRef((e,t)=>{const{name:o,min:a=0,max:s=100,step:n=1,orientation:d="horizontal",disabled:c=!1,minStepsBetweenThumbs:u=0,defaultValue:m=[a],value:p,onValueChange:i=()=>{},onValueCommit:l=()=>{},inverted:x=!1,...b}=e,[S,v]=r.useState(null),w=M(t,$=>v($)),P=r.useRef(new Set),f=r.useRef(0),E=d==="horizontal",C=S?!!S.closest("form"):!0,O=E?Se:pe,[h=[],te]=se({prop:p,defaultProp:m,onChange:$=>{var g;(g=[...P.current][f.current])===null||g===void 0||g.focus(),i($)}}),L=r.useRef(h);function ne($){const g=De(h,$);K($,g)}function oe($){K($,f.current)}function ae(){const $=L.current[f.current];h[f.current]!==$&&l(h)}function K($,g,{commit:A}={commit:!1}){const F=Me(n),k=Ce(Math.round(($-a)/n)*n+a,F),V=X(k,[a,s]);te((R=[])=>{const D=Ee(R,V,g);if(_e(D,u*n)){f.current=D.indexOf(V);const N=String(D)!==String(R);return N&&A&&l(D),N?D:R}else return R})}return r.createElement($e,{scope:e.__scopeSlider,disabled:c,min:a,max:s,valueIndexToChangeRef:f,thumbs:P.current,values:h,orientation:d},r.createElement(H.Provider,{scope:e.__scopeSlider},r.createElement(H.Slot,{scope:e.__scopeSlider},r.createElement(O,y({"aria-disabled":c,"data-disabled":c?"":void 0},b,{ref:w,onPointerDown:_(b.onPointerDown,()=>{c||(L.current=h)}),min:a,max:s,inverted:x,onSlideStart:c?void 0:ne,onSlideMove:c?void 0:oe,onSlideEnd:c?void 0:ae,onHomeKeyDown:()=>!c&&K(a,0,{commit:!0}),onEndKeyDown:()=>!c&&K(s,h.length-1,{commit:!0}),onStepKeyDown:({event:$,direction:g})=>{if(!c){const k=G.includes($.key)||$.shiftKey&&W.includes($.key)?10:1,V=f.current,R=h[V],D=n*k*g;K(R+D,V,{commit:!0})}}})))),C&&h.map(($,g)=>r.createElement(we,{key:g,name:o?o+(h.length>1?"[]":""):void 0,value:$})))}),[J,Q]=q(I,{startEdge:"left",endEdge:"right",size:"width",direction:1}),Se=r.forwardRef((e,t)=>{const{min:o,max:a,dir:s,inverted:n,onSlideStart:d,onSlideMove:c,onSlideEnd:u,onStepKeyDown:m,...p}=e,[i,l]=r.useState(null),x=M(t,f=>l(f)),b=r.useRef(),S=le(s),v=S==="ltr",w=v&&!n||!v&&n;function P(f){const E=b.current||i.getBoundingClientRect(),C=[0,E.width],h=z(C,w?[o,a]:[a,o]);return b.current=E,h(f-E.left)}return r.createElement(J,{scope:e.__scopeSlider,startEdge:w?"left":"right",endEdge:w?"right":"left",direction:w?1:-1,size:"width"},r.createElement(Z,y({dir:S,"data-orientation":"horizontal"},p,{ref:x,style:{...p.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:f=>{const E=P(f.clientX);d==null||d(E)},onSlideMove:f=>{const E=P(f.clientX);c==null||c(E)},onSlideEnd:()=>{b.current=void 0,u==null||u()},onStepKeyDown:f=>{const C=j[w?"from-left":"from-right"].includes(f.key);m==null||m({event:f,direction:C?-1:1})}})))}),pe=r.forwardRef((e,t)=>{const{min:o,max:a,inverted:s,onSlideStart:n,onSlideMove:d,onSlideEnd:c,onStepKeyDown:u,...m}=e,p=r.useRef(null),i=M(t,p),l=r.useRef(),x=!s;function b(S){const v=l.current||p.current.getBoundingClientRect(),w=[0,v.height],f=z(w,x?[a,o]:[o,a]);return l.current=v,f(S-v.top)}return r.createElement(J,{scope:e.__scopeSlider,startEdge:x?"bottom":"top",endEdge:x?"top":"bottom",size:"height",direction:x?1:-1},r.createElement(Z,y({"data-orientation":"vertical"},m,{ref:i,style:{...m.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:S=>{const v=b(S.clientY);n==null||n(v)},onSlideMove:S=>{const v=b(S.clientY);d==null||d(v)},onSlideEnd:()=>{l.current=void 0,c==null||c()},onStepKeyDown:S=>{const w=j[x?"from-bottom":"from-top"].includes(S.key);u==null||u({event:S,direction:w?-1:1})}})))}),Z=r.forwardRef((e,t)=>{const{__scopeSlider:o,onSlideStart:a,onSlideMove:s,onSlideEnd:n,onHomeKeyDown:d,onEndKeyDown:c,onStepKeyDown:u,...m}=e,p=T(I,o);return r.createElement(B.span,y({},m,{ref:t,onKeyDown:_(e.onKeyDown,i=>{i.key==="Home"?(d(i),i.preventDefault()):i.key==="End"?(c(i),i.preventDefault()):G.concat(W).includes(i.key)&&(u(i),i.preventDefault())}),onPointerDown:_(e.onPointerDown,i=>{const l=i.target;l.setPointerCapture(i.pointerId),i.preventDefault(),p.thumbs.has(l)?l.focus():a(i)}),onPointerMove:_(e.onPointerMove,i=>{i.target.hasPointerCapture(i.pointerId)&&s(i)}),onPointerUp:_(e.onPointerUp,i=>{const l=i.target;l.hasPointerCapture(i.pointerId)&&(l.releasePointerCapture(i.pointerId),n(i))})}))}),ve="SliderTrack",be=r.forwardRef((e,t)=>{const{__scopeSlider:o,...a}=e,s=T(ve,o);return r.createElement(B.span,y({"data-disabled":s.disabled?"":void 0,"data-orientation":s.orientation},a,{ref:t}))}),U="SliderRange",he=r.forwardRef((e,t)=>{const{__scopeSlider:o,...a}=e,s=T(U,o),n=Q(U,o),d=r.useRef(null),c=M(t,d),u=s.values.length,m=s.values.map(l=>ee(l,s.min,s.max)),p=u>1?Math.min(...m):0,i=100-Math.max(...m);return r.createElement(B.span,y({"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0},a,{ref:c,style:{...e.style,[n.startEdge]:p+"%",[n.endEdge]:i+"%"}}))}),Y="SliderThumb",ge=r.forwardRef((e,t)=>{const o=fe(e.__scopeSlider),[a,s]=r.useState(null),n=M(t,c=>s(c)),d=r.useMemo(()=>a?o().findIndex(c=>c.ref.current===a):-1,[o,a]);return r.createElement(xe,y({},e,{ref:n,index:d}))}),xe=r.forwardRef((e,t)=>{const{__scopeSlider:o,index:a,...s}=e,n=T(Y,o),d=Q(Y,o),[c,u]=r.useState(null),m=M(t,v=>u(v)),p=ce(c),i=n.values[a],l=i===void 0?0:ee(i,n.min,n.max),x=ye(a,n.values.length),b=p==null?void 0:p[d.size],S=b?Pe(b,l,d.direction):0;return r.useEffect(()=>{if(c)return n.thumbs.add(c),()=>{n.thumbs.delete(c)}},[c,n.thumbs]),r.createElement("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[d.startEdge]:`calc(${l}% + ${S}px)`}},r.createElement(H.ItemSlot,{scope:e.__scopeSlider},r.createElement(B.span,y({role:"slider","aria-label":e["aria-label"]||x,"aria-valuemin":n.min,"aria-valuenow":i,"aria-valuemax":n.max,"aria-orientation":n.orientation,"data-orientation":n.orientation,"data-disabled":n.disabled?"":void 0,tabIndex:n.disabled?void 0:0},s,{ref:m,style:i===void 0?{display:"none"}:e.style,onFocus:_(e.onFocus,()=>{n.valueIndexToChangeRef.current=a})}))))}),we=e=>{const{value:t,...o}=e,a=r.useRef(null),s=de(t);return r.useEffect(()=>{const n=a.current,d=window.HTMLInputElement.prototype,u=Object.getOwnPropertyDescriptor(d,"value").set;if(s!==t&&u){const m=new Event("input",{bubbles:!0});u.call(n,t),n.dispatchEvent(m)}},[s,t]),r.createElement("input",y({style:{display:"none"}},o,{ref:a,defaultValue:t}))};function Ee(e=[],t,o){const a=[...e];return a[o]=t,a.sort((s,n)=>s-n)}function ee(e,t,o){const n=100/(o-t)*(e-t);return X(n,[0,100])}function ye(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function De(e,t){if(e.length===1)return 0;const o=e.map(s=>Math.abs(s-t)),a=Math.min(...o);return o.indexOf(a)}function Pe(e,t,o){const a=e/2,n=z([0,50],[0,a]);return(a-n(t)*o)*o}function Re(e){return e.slice(0,-1).map((t,o)=>e[o+1]-t)}function _e(e,t){if(t>0){const o=Re(e);return Math.min(...o)>=t}return!0}function z(e,t){return o=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const a=(t[1]-t[0])/(e[1]-e[0]);return t[0]+a*(o-e[0])}}function Me(e){return(String(e).split(".")[1]||"").length}function Ce(e,t){const o=Math.pow(10,t);return Math.round(e*o)/o}const Ie=me,Ae=be,Be=he,Te=ge;export{Ie as $,Ae as a,Be as b,Te as c};
