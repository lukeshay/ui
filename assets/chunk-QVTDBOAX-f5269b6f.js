import{r as S}from"./index-4b973fe8.js";var u=1,c=1e6,d=0;function A(){return d=(d+1)%Number.MAX_VALUE,d.toString()}var T=new Map,p=t=>{if(T.has(t))return;let s=setTimeout(()=>{T.delete(t),o({type:"REMOVE_TOAST",toastId:t})},c);T.set(t,s)},O=(t,s)=>{switch(s.type){case"ADD_TOAST":return{...t,toasts:[s.toast,...t.toasts].slice(0,u)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(e=>e.id===s.toast.id?{...e,...s.toast}:e)};case"DISMISS_TOAST":{let{toastId:e}=s;return e?p(e):t.toasts.forEach(a=>{p(a.id)}),{...t,toasts:t.toasts.map(a=>a.id===e||e===void 0?{...a,open:!1}:a)}}case"REMOVE_TOAST":return s.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(e=>e.id!==s.toastId)}}},r=[],i={toasts:[]};function o(t){i=O(i,t),r.forEach(s=>{s(i)})}function f({...t}){let s=A(),e=n=>o({type:"UPDATE_TOAST",toast:{...n,id:s}}),a=()=>o({type:"DISMISS_TOAST",toastId:s});return o({type:"ADD_TOAST",toast:{...t,id:s,open:!0,onOpenChange:n=>{n||a()}}}),{id:s,dismiss:a,update:e}}function E(){let[t,s]=S.useState(i);return S.useEffect(()=>(r.push(s),()=>{let e=r.indexOf(s);e>-1&&r.splice(e,1)}),[t]),{...t,toast:f,dismiss:e=>o({type:"DISMISS_TOAST",toastId:e})}}export{E as _};
