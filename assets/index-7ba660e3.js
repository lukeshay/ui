import{$ as l,r as a,d as f,_ as b,A as p,h as m}from"./index-16532588.js";const u="Avatar",[A,I]=l(u),[v,g]=A(u),x=a.forwardRef((t,n)=>{const{__scopeAvatar:c,...e}=t,[o,r]=a.useState("idle");return a.createElement(v,{scope:c,imageLoadingStatus:o,onImageLoadingStatusChange:r},a.createElement(f.span,b({},e,{ref:n})))}),S="AvatarImage",_=a.forwardRef((t,n)=>{const{__scopeAvatar:c,src:e,onLoadingStatusChange:o=()=>{},...r}=t,s=g(S,c),d=w(e),$=p(i=>{o(i),s.onImageLoadingStatusChange(i)});return m(()=>{d!=="idle"&&$(d)},[d,$]),d==="loaded"?a.createElement(f.img,b({},r,{ref:n,src:e})):null}),L="AvatarFallback",E=a.forwardRef((t,n)=>{const{__scopeAvatar:c,delayMs:e,...o}=t,r=g(L,c),[s,d]=a.useState(e===void 0);return a.useEffect(()=>{if(e!==void 0){const $=window.setTimeout(()=>d(!0),e);return()=>window.clearTimeout($)}},[e]),s&&r.imageLoadingStatus!=="loaded"?a.createElement(f.span,b({},o,{ref:n})):null});function w(t){const[n,c]=a.useState("idle");return a.useEffect(()=>{if(!t){c("error");return}let e=!0;const o=new window.Image,r=s=>()=>{e&&c(s)};return c("loading"),o.onload=r("loaded"),o.onerror=r("error"),o.src=t,()=>{e=!1}},[t]),n}const h=x,M=_,R=E;export{h as $,M as a,R as b};
